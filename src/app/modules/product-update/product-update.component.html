<div class="flex flex-col min-h-screen">
  <app-navbar></app-navbar>

  <div class="flex flex-1">
    <app-sidebar></app-sidebar>

    <main class="flex-1 p-6">
      <h1 class="text-2xl font-bold mb-4">Actualizar Productos</h1>

      <div class="bg-gray-100 p-6 rounded-lg shadow-md">
        <form [formGroup]="productoForm" (ngSubmit)="actualizarProducto()" novalidate>
          <!-- Nombre -->
          <div class="mb-4">
            <label for="nombre" class="block text-gray-700">Nombre</label>
            <input id="nombre" type="text" formControlName="nombre"
                   class="w-full p-2 border rounded bg-white"
                   [ngClass]="{ 'border-red-500': productoForm.get('nombre')?.invalid && productoForm.get('nombre')?.touched }" />
          </div>

          <!-- Descripción -->
          <div class="mb-4">
            <label for="descripcion" class="block text-gray-700">Descripción</label>
            <textarea id="descripcion" formControlName="descripcion"
                      class="w-full p-2 border rounded bg-white"
                      [ngClass]="{ 'border-red-500': productoForm.get('descripcion')?.invalid && productoForm.get('descripcion')?.touched }"></textarea>
          </div>

          <!-- Precio -->
          <div class="mb-4">
            <label for="precio" class="block text-gray-700">Precio</label>
            <input id="precio" type="number" formControlName="precio"
                   class="w-full p-2 border rounded bg-white"
                   [ngClass]="{ 'border-red-500': productoForm.get('precio')?.invalid && productoForm.get('precio')?.touched }" />
          </div>

          <!-- Precio Oferta -->
          <div class="mb-4">
            <label for="precioOferta" class="block text-gray-700">Precio Oferta</label>
            <input id="precioOferta" type="number" formControlName="precioOferta"
                   class="w-full p-2 border rounded bg-white"
                   [ngClass]="{ 'border-red-500': productoForm.get('precioOferta')?.invalid && productoForm.get('precioOferta')?.touched }" />
          </div>

          <!-- Categoría -->
          <div class="mb-4">
            <label for="categoria" class="block text-gray-700">Categoría</label>
            <select id="categoria" formControlName="categoria"
                    class="w-full p-2 border rounded bg-white"
                    [ngClass]="{ 'border-red-500': productoForm.get('categoria')?.invalid && productoForm.get('categoria')?.touched }">
              <option value="" disabled>Seleccione una categoría</option>
              <option *ngFor="let cat of categorias" [value]="cat.id">{{ cat.categoriaNombre }}</option>
            </select>
          </div>

          <!-- Estado -->
          <div class="mb-4">
            <label for="activo" class="block text-gray-700">Estado</label>
            <select id="activo" formControlName="activo"
                    class="w-full p-2 border rounded bg-white">
              <option [value]="true">Activo</option>
              <option [value]="false">Inactivo</option>
            </select>
          </div>

          <!-- Imágenes -->
          <div class="mb-6">
            <label class="block text-gray-700 mb-2">Imágenes</label>

            <!-- Imagen 1 -->
            <div class="mb-2">
              <label for="image-upload-1"
                     class="block w-full p-2 border rounded bg-[#7E493B] text-white text-center cursor-pointer">
                Seleccionar imagen 1
              </label>
              <input type="file" id="image-upload-1" class="hidden" (change)="onImageSelected($event, 1)" />
              <div *ngIf="imagenUrl1" class="mt-2">
                <img [src]="imagenUrl1" alt="Imagen 1" class="h-32 object-cover rounded border" />
              </div>
            </div>

            <!-- Imagen 2 -->
            <div>
              <label for="image-upload-2"
                     class="block w-full p-2 border rounded bg-[#7E493B] text-white text-center cursor-pointer">
                Seleccionar imagen 2
              </label>
              <input type="file" id="image-upload-2" class="hidden" (change)="onImageSelected($event, 2)" />
              <div *ngIf="imagenUrl2" class="mt-2">
                <img [src]="imagenUrl2" alt="Imagen 2" class="h-32 object-cover rounded border" />
              </div>
            </div>
          </div>

          <!-- Botones -->
          <div class="flex justify-end space-x-4">
            <button type="button" (click)="cancelar()"
                    class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 transition">
              Cancelar
            </button>
            <button type="submit" [disabled]="productoForm.invalid"
                    class="bg-[#7E493B] text-white px-4 py-2 rounded hover:bg-[#5c362b] transition">
              Actualizar
            </button>
          </div>
        </form>
      </div>
    </main>
  </div>
</div>
